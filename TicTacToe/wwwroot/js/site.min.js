function EmailConfirmation(n){window.WebSocket?openSocket(n,"Email"):interval=setInterval(()=>{CheckEmailConfirmationStatus(n)},5e3)}function CheckEmailConfirmationStatus(n){$.get("/CheckEmailConfirmationStatus?email="+n,function(t){t==="OK"&&(interval!==null&&clearInterval(interval),window.location.href="/GameInvitation?email="+n)})}let interval;var openSocket=function(n,t){interval!==null&&clearInterval(interval);let f=location.protocol==="https:"?"wss:":"ws:",r="",u="";t=="Email"&&(u=f+"//"+window.location.host+"/CheckEmailConfirmationStatus",r="CheckEmailConfirmationStatus");let i=new WebSocket(u);i.onmessage=function(i){console.log(i);t=="Email"&&i.data=="OK"&&(window.location.href="/GameInvitation?email="+n)};i.onopen=function(){var t=JSON.stringify({Operation:r,Parameters:n});i.send(t)};i.onclose=function(){}};